<!-- Change the button text and heading to match backstories -->
<h1>Random Starfinder Character Backstory Generator</h1>
<p>Create your legend! Click the button below to get a random character backstory!</p>

<button onclick="loadRandomBackstory()">Get Random Backstory</button>

<div class="quest-display" id="backstoryDisplay">
  <!-- Random backstory will be displayed here -->
</div>

<script>
  let backstories = [];

  function loadCSV(url) {
    fetch(url)
      .then(response => response.text())
      .then(data => {
        const rows = data.split('\n').filter(row => row.trim() !== '');
        backstories = rows.map(row => row.trim());
      })
      .catch(error => console.error('Error loading CSV:', error));
  }

  function loadRandomBackstory() {
    if (backstories.length === 0) {
      alert("No backstories loaded. Please wait for the CSV to load.");
      return;
    }

    const randomIndex = Math.floor(Math.random() * backstories.length);
    const randomBackstory = backstories[randomIndex];

    const backstoryDisplay = document.getElementById("backstoryDisplay");
    backstoryDisplay.innerHTML = `<p>${randomBackstory}</p>`;
    backstoryDisplay.style.opacity = 1;
  }

  window.onload = () => {
    loadCSV("https://raw.githubusercontent.com/MelvinButters/melvinwebsite/main/list/backstories.csv");
  };
</script>
